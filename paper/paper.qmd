---
title: "Investigating Trends of Absences in Toronto City Council Attendance between 2022 to 2024"
subtitle: "Determining the Ideal Meeting Types and Months for the 2022-2026 Term"
author: 
  - Wendy Yuan
date: "27 September 2024"
date-format: long
abstract: "This paper looks at Toronto City Council attendance data and when meeting absences are highest and lowest. As Toronto City Council members are elected, it is expected that they attend meetings to voice the opinions of the population. Examining the data found that alternating months and evenings have greater absences. By identifying trends of absences, meetings can be better schedules to optimize efficiency and attendance."
format: pdf
number-sections: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false

library(tidyverse)
library(dplyr)

cleaned_data <- read_csv(here::here("data/cleaned_data/cleaned_data.csv"))
```

\newpage

# Introduction

In a democracy, individuals are expected to contribute their voices through voting. Likewise, elected officials should uphold their duty of representing the opinions of those who voted them in. So, the elected members of the Toronto City Council must attend their meetings to express their concerns to the population. 

This paper looks at the attendance of Toronto City Council members since the beginning of the 2022 term. The data used in this paper can be found on Open Data Toronto. First, this paper looks at the distribution of when most meetings are held to understand the data and biases better. Session type, month and year are examined to see if any trends can be avoided in the future to increase attendance. 

Session type refers to whether the session was held in the morning, afternoon, or evening. Session month shows which month the meeting was held likewise session year in which year the meeting happened. Finally, the present variable shows their attendance with yes if they were present and no if they were not. 

This paper found a trend of alternating months in absence, where one month will have high absence and the next will have low absence. Evening sessions also tended to have more absences. In 2022, there were very few absences while 2023 showed the opposite and 2024 has shown to stay in between for now. 

This paper is structured by beginning with the abstract and introduction. The remainder looks at how the data was cleaned, a table summarizing meeting types, and examines how each variable influences the attendance of City Council members. 

# Data {#sec-data}

To investigate the attendance of Toronto City Council members data is retrieved from Open Data Toronto. The raw data contained columns of Term, First Name, Last Name, Committee, MTG #, Session Date, Session Type, Session Start-End Time, Present. After importing the data into R, it was cleaned to make it more readable and contain only the necessary variables. Tests were also run on the data to make sure it is city council member data and no empty rows are there. 

First, the session date was made more readable by separating the year and month. Additionally, the month was changed to the word abbreviation form. The present variable was also made more readable by changing Y to Yes and N to No. Finally, the columns of interest, committee, session year, session month, session type, and present, were selected to be created into a new cleaned dataset. 

Between the different variables, type, month and year, they each have different frequency. Understanding the frequency, can help better understand the outcome of the data. Thus, three tables were made counting how many meetings were done in each circumstance. 

```{r}
#| label: fig-count
#| fig-cap: Count of Number of Sessions per Year, Month, & Type
#| echo: false

table(cleaned_data$session_type)

cleaned_data$session_month <- factor(cleaned_data$session_month, levels = month.abb)
table(cleaned_data$session_month)

table(cleaned_data$session_year)
```

It can be seen that there are significantly less evening meetings while afternoon meetings are most common. Noticeably, January has no meetings likely because of external reasons. Meeting frequency of different months seem to change with no particular pattern. Finally, 2023 had the most meetings simply because it had the most time. 

First, to analysis which meeting type is best a bar chart is created comparing morning, afternoon, and evening times. 

```{r}
#| label: fig-session_type
#| fig-cap: Comparison of Attendance in Morning, Afternoon, vs Evening Session
#| echo: false

ggplot(cleaned_data, aes(x = session_type, fill = present)) +
  geom_bar(position = "dodge2") + 
  labs(
    title = "Present vs Absence in Different Session Types",
    x = "Session Type",
    y = "Count"
  )
```

@fig-session_type has x-axis as the session type and y-axis as the count of how many times each meeting type occurred. The blue bars are the number of attendances while the red bars are the number of absences. It can be seen that afternoon has the most absences but it also has the most attendance. Notably, while evenings occurrences are low it still has a decent amount of absences. From the data, meetings would be better held during the afternoon or morning for the best attendance. 

Next, to find out which month had the best attendance rate a bar chart was graphed. The x-axis is the months and the y-axis is the count. 

```{r}
#| label: fig-session_month
#| fig-cap: Comparison of Attendance over Different Months
#| echo: false

cleaned_data |> 
  ggplot(aes(x = session_month, fill = present)) +
  geom_bar(position = "dodge2") + 
  labs(
    title = "Present vs Absence Over Different Months",
    x = "Months",
    y = "Count"
  )
```

In @fig-session_month the blue bars is the count of attendance during the month and the red bars is the count of absences. There is a rough pattern where alternating months will have higher absences, such as March, May, and July. A pattern can not be determined for the attendance rather it reflect the frequency meetings were held according to months. In conclusion, finding out what causes the pattern of absence would help increase attendance in those months. 

Finally, a comparison between the years since the beginning of the term was done by plotting a bar chat. 

```{r}
#| label: fig-session_year
#| fig-cap: Comparison of Attendance between 2022 to 2024
#| echo: false

cleaned_data |> 
  ggplot(aes(x = session_year, fill = present)) +
  geom_bar(position = "dodge") + 
  labs(
    title = "Present vs Absence Over Different Years",
    x = "Years",
    y = "Count"
  )
```

@fig-session_year has x-axis of years and y-axis counting attendance. The blue bars is the attendance of those who went to meetings while red bars counts those absent. Like how there were many meetings conducted in 2023 there are also many absence which makes sense. Therefore, it is likely that as 2024 continues the absences will increase showing similar pattern to 2023. Meanwhile, 2022 in this bar chart show little to no absent which may be due to external factors. Overall, investigating which meeting type, month and year gives an idea as to what causes absences during meetings but more variables should be looked at to get a bigger and better picture of the circumstances.

\newpage

# References

TODO: figure out how to do references + in text references 
